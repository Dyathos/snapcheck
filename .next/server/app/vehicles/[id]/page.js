(()=>{var e={};e.id=217,e.ids=[217],e.modules={3524:e=>{"use strict";e.exports=require("@prisma/client")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},268:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>o,routeModule:()=>h,tree:()=>d});var t=r(7096),i=r(6132),n=r(7284),a=r.n(n),c=r(2564),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);r.d(s,l);let d=["",{children:["vehicles",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2801)),"/Users/capmission/Documents/carcheck/src/app/vehicles/[id]/page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,4051)),"/Users/capmission/Documents/carcheck/src/app/vehicles/[id]/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,8063)),"/Users/capmission/Documents/carcheck/src/app/vehicles/[id]/not-found.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,5607)),"/Users/capmission/Documents/carcheck/src/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,6097)),"/Users/capmission/Documents/carcheck/src/app/error.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,8056)),"/Users/capmission/Documents/carcheck/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,5666)),"/Users/capmission/Documents/carcheck/src/app/not-found.tsx"]}],o=["/Users/capmission/Documents/carcheck/src/app/vehicles/[id]/page.tsx"],u="/vehicles/[id]/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/vehicles/[id]/page",pathname:"/vehicles/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5426:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,7490,23)),Promise.resolve().then(r.bind(r,1372))},826:(e,s,r)=>{Promise.resolve().then(r.bind(r,1372))},4051:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>n});var t=r(4656),i=r(6085);function n(){return(0,t.jsxs)(t.Fragment,{children:[t.jsx(i.ZP,{title:"Chargement...",showBack:!0}),t.jsx("div",{className:"p-4 space-y-6",children:(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg divide-y divide-gray-200",children:[t.jsx("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"})]}),t.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded animate-pulse"})]})}),(0,t.jsxs)("div",{className:"p-4",children:[t.jsx("div",{className:"h-6 w-40 bg-gray-200 rounded animate-pulse mb-4"}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-4 w-36 bg-gray-200 rounded animate-pulse"})]})]}),(0,t.jsxs)("div",{className:"p-4",children:[t.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse mb-4"}),t.jsx("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-start bg-gray-50 p-3 rounded-md",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded animate-pulse"}),t.jsx("div",{className:"h-3 w-48 bg-gray-200 rounded animate-pulse"})]}),t.jsx("div",{className:"h-5 w-16 bg-gray-200 rounded animate-pulse"})]},e))})]})]})})]})}},8063:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(4656),i=r(4353),n=r.n(i),a=r(6085);function c(){return(0,t.jsxs)(t.Fragment,{children:[t.jsx(a.ZP,{title:"V\xe9hicule non trouv\xe9",showBack:!0}),t.jsx("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"max-w-xl mx-auto text-center",children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight text-gray-900",children:"V\xe9hicule introuvable"}),t.jsx("p",{className:"mt-2 text-gray-500",children:"D\xe9sol\xe9, le v\xe9hicule que vous recherchez n'existe pas ou a \xe9t\xe9 supprim\xe9."}),t.jsx("div",{className:"mt-6",children:t.jsx(n(),{href:"/vehicles",className:"text-blue-600 hover:text-blue-500",children:"Retour \xe0 la liste des v\xe9hicules"})})]})})]})}},2801:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>p});var t=r(4656),i=r(1412),n=r(4353),a=r.n(n),c=r(6085),l=r(9730),d=r(583),o=r(2974),u=r(622),m=r(3542);let h=m.forwardRef(function({title:e,titleId:s,...r},t){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},r),e?m.createElement("title",{id:s},e):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z"}),m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.867 19.125h.008v.008h-.008v-.008Z"}))});async function x(e){let s=await l._.vehicle.findUnique({where:{id:e},include:{inspectionVehicles:{include:{inspection:!0},orderBy:{inspection:{date:"desc"}}},parts:{orderBy:{createdAt:"desc"}}}});return s||(0,i.notFound)(),s}async function p({params:e}){let s=await x(e.id),r=s.parts.filter(e=>"critical"===e.severity).length;return(0,t.jsxs)(t.Fragment,{children:[t.jsx(c.ZP,{title:`${s.brand} ${s.model}`,showBack:!0}),t.jsx("div",{className:"p-4 space-y-6",children:(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg divide-y divide-gray-200",children:[t.jsx("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:[s.brand," ",s.model]}),(0,t.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[s.year," â€¢ ",s.plateNumber]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:r>0&&(0,t.jsxs)(d.C,{variant:"destructive",children:[r," pi\xe8ce",r>1?"s":""," critique",r>1?"s":""]})})]})}),t.jsx("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsxs)(a(),{href:`/inspections/new/${s.id}`,className:"flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(u.Z,{className:"h-5 w-5 mr-2"}),"Nouvelle inspection"]}),(0,t.jsxs)(a(),{href:`/vehicles/${s.id}/parts`,className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[t.jsx(h,{className:"h-5 w-5 mr-2"}),"G\xe9rer les pi\xe8ces"]})]})}),(0,t.jsxs)("div",{className:"p-4",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Historique des inspections"}),t.jsx("div",{className:"space-y-4",children:s.inspectionVehicles.length>0?s.inspectionVehicles.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm font-medium text-gray-900",children:(0,o.p6)(e.inspection.date)}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Par ",e.inspection.inspector]})]}),t.jsx(d.C,{variant:"critical"===e.status?"destructive":"warning"===e.status?"warning":"success",children:"critical"===e.status?"Critique":"warning"===e.status?"\xc0 surveiller":"OK"})]},e.id)):t.jsx("p",{className:"text-sm text-gray-500",children:"Aucune inspection enregistr\xe9e"})})]})]})})]})}},583:(e,s,r)=>{"use strict";r.d(s,{C:()=>m});var t,i,n=r(4656),a=r(3542),c=r(5143);let l=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,d=c.W;var o=r(2974);let u=(t="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",i={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"bg-green-500 text-white hover:bg-green-400",warning:"bg-yellow-500 text-black hover:bg-yellow-400"}},defaultVariants:{variant:"default"}},e=>{var s;if((null==i?void 0:i.variants)==null)return d(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:r,defaultVariants:n}=i,a=Object.keys(r).map(s=>{let t=null==e?void 0:e[s],i=null==n?void 0:n[s];if(null===t)return null;let a=l(t)||l(i);return r[s][a]}),c=e&&Object.entries(e).reduce((e,s)=>{let[r,t]=s;return void 0===t||(e[r]=t),e},{}),o=null==i?void 0:null===(s=i.compoundVariants)||void 0===s?void 0:s.reduce((e,s)=>{let{class:r,className:t,...i}=s;return Object.entries(i).every(e=>{let[s,r]=e;return Array.isArray(r)?r.includes({...n,...c}[s]):({...n,...c})[s]===r})?[...e,r,t]:e},[]);return d(t,a,o,null==e?void 0:e.class,null==e?void 0:e.className)}),m=(0,a.forwardRef)(({className:e,variant:s,children:r,...t},i)=>n.jsx("div",{className:(0,o.cn)(u({variant:s}),e),ref:i,...t,children:r}));m.displayName="Badge"},2974:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n,p6:()=>a});var t=r(5143),i=r(5011);function n(...e){return(0,i.m6)((0,t.W)(e))}function a(e){return new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})}},622:(e,s,r)=>{"use strict";r.d(s,{Z:()=>n});var t=r(3542);let i=t.forwardRef(function({title:e,titleId:s,...r},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":s},r),e?t.createElement("title",{id:s},e):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}),n=i}};var s=require("../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[271,503,1,445],()=>r(268));module.exports=t})();
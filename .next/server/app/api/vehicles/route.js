"use strict";(()=>{var e={};e.id=986,e.ids=[986],e.modules={3524:e=>{e.exports=require("@prisma/client")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6384:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>m,originalPathname:()=>y,patchFetch:()=>b,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>g});var a={};t.r(a),t.d(a,{GET:()=>u,POST:()=>l});var i=t(884),o=t(6132),n=t(1040),s=t(5798),c=t(9730);async function u(){try{let e=await c._.vehicle.findMany({orderBy:{createdAt:"desc"},include:{parts:!0}});return s.Z.json(e)}catch(e){return console.error("Error fetching vehicles:",e),s.Z.json({error:"Une erreur est survenue lors du chargement des v\xe9hicules."},{status:500})}}async function l(e){try{let r=await e.json();console.log("Creating vehicle with data:",r);let t=await c._.vehicle.create({data:{brand:r.brand,model:r.model,year:Number(r.year),mileage:Number(r.mileage),plateNumber:r.plateNumber,vin:r.vin||void 0}});return console.log("Vehicle created:",t),s.Z.json(t)}catch(e){return console.error("Error creating vehicle:",e),s.Z.json({error:"Une erreur est survenue lors de la cr\xe9ation du v\xe9hicule."},{status:500})}}let d=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/vehicles/route",pathname:"/api/vehicles",filename:"route",bundlePath:"app/api/vehicles/route"},resolvedPagePath:"/Users/capmission/Documents/carcheck/src/app/api/vehicles/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:p,staticGenerationAsyncStorage:h,serverHooks:v,headerHooks:m,staticGenerationBailout:g}=d,y="/api/vehicles/route";function b(){return(0,n.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:h})}},9730:(e,r,t)=>{t.d(r,{_:()=>o});var a=t(3524);let i=globalThis,o=i.prisma||new a.PrismaClient({log:["error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[271,107],()=>t(6384));module.exports=a})();